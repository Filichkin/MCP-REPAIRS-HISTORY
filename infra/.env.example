# MCP Server Configuration
MCP_SERVER_PORT=8004
MCP_SERVER_HOST=0.0.0.0  # Changed to 0.0.0.0 for public access (use 127.0.0.1 for local only)
MCP_SERVER_URL=http://localhost:8004
MCP_TRANSPORT=http  # Changed from 'sse' to 'http' (Streamable HTTP - recommended for production)
MCP_TIMEOUT=30
MCP_MAX_RETRIES=3

# MCP Security Configuration (for production deployment)
MCP_AUTH_ENABLED=false  # Set to 'true' to enable Bearer token authentication
MCP_AUTH_TOKEN=  # Generate a secure token for production (e.g., openssl rand -hex 32)

# Note: For HTTPS, use nginx reverse proxy (see docker-compose.yml)
# FastMCP doesn't support built-in TLS - these parameters are deprecated
MCP_ENABLE_TLS=false  # (Deprecated) Use nginx for HTTPS instead
MCP_TLS_CERT_FILE=  # (Deprecated) Configure TLS in nginx
MCP_TLS_KEY_FILE=  # (Deprecated) Configure TLS in nginx

# Vehicle Repairs API Configuration
API_KEY=your-api-key-here
API_URL=http://your-api-url-here

# Cloud RAG (Knowledge Base) Configuration
# OAuth2 credentials for RAG API authentication
KEY_ID=your-client-id-here
KEY_SECRET=your-client-secret-here
AUTH_URL=https://auth.iam.sbercloud.ru/auth/system/openid/token

# RAG API endpoints and settings
RETRIEVE_URL_TEMPLATE=https://your-rag-instance.managed-rag.inference.cloud.ru/api/v2/retrieve
KNOWLEDGE_BASE_ID=your-knowledge-base-id-here
KNOWLEDGE_BASE_VERSION_ID=latest
RETRIEVE_LIMIT=3
EVOLUTION_PROJECT_ID=your-project-id-here


# GigaChat Configuration
GIGACHAT_API_KEY=
GIGACHAT_KEY_ID=  # Key ID для OAuth2 (используется при GIGACHAT_USE_API=true)
GIGACHAT_KEY_SECRET=  # Key Secret для OAuth2 (используется при GIGACHAT_USE_API=true)
GIGACHAT_SCOPE=GIGACHAT_API_PERS
GIGACHAT_MODEL=GigaChat-2
GIGACHAT_TEMPERATURE=0.1
GIGACHAT_TIMEOUT=60
GIGACHAT_MAX_RETRIES=3

# GigaChat API Method Selection
# false - использовать langchain_gigachat (по умолчанию)
# true - использовать прямой API GigaChat
GIGACHAT_USE_API=false

# GigaChat API Advanced Parameters (используются только при GIGACHAT_USE_API=true)
GIGACHAT_TOP_P=  # Nucleus sampling (0.0-1.0), по умолчанию None
GIGACHAT_MAX_TOKENS=512  # Максимальное количество токенов в ответе
GIGACHAT_REPETITION_PENALTY=1.0  # Штраф за повторения (0.0-2.0)

# Agent Configuration
AGENT_MAX_ITERATIONS=10
AGENT_MAX_EXECUTION_TIME=120
AGENT_ENABLE_STREAMING=true

# Application Configuration
APP_NAME=Warranty Agent System
APP_VERSION=0.1.0
APP_DEBUG=false
LOG_LEVEL=INFO

# API Configuration
API_HOST=0.0.0.0
API_PORT=8005
API_RELOAD=false
API_CORS_ORIGINS=["*"]
